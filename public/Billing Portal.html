<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Billing Portal - ระบบชำระเงินลูกค้า</title>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Prompt', sans-serif;
            background: #F8FAFC;
            color: #1F2937;
            line-height: 1.6;
            min-height: 100%;
        }

        html, body {
            height: 100%;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #1E3A8A 0%, #6366F1 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .portal-title {
            font-size: 24px;
            font-weight: 600;
        }

        nav {
            display: flex;
            gap: 30px;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            padding: 5px;
        }

        /* Main Content */
        main {
            padding: 40px 0;
            min-height: calc(100% - 200px);
        }

        .welcome-banner {
            background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%);
            color: white;
            padding: 40px;
            border-radius: 16px;
            margin-bottom: 40px;
            box-shadow: 0 8px 16px rgba(99, 102, 241, 0.3);
        }

        .welcome-banner h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .welcome-banner p {
            font-size: 18px;
            opacity: 0.95;
        }

        /* Dashboard Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 4px solid;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .stat-card.pending {
            border-left-color: #EF4444;
        }

        .stat-card.paid {
            border-left-color: #22C55E;
        }

        .stat-card.recent {
            border-left-color: #2563EB;
        }

        .stat-label {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .stat-value.red {
            color: #EF4444;
        }

        .stat-value.green {
            color: #22C55E;
        }

        .stat-value.blue {
            color: #2563EB;
        }

        .stat-detail {
            font-size: 14px;
            color: #9CA3AF;
        }

        /* CTA Button */
        .cta-section {
            text-align: center;
            margin: 40px 0;
        }

        .btn-primary {
            background: linear-gradient(135deg, #14B8A6 0%, #FBBF24 100%);
            color: white;
            border: none;
            padding: 16px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
            transition: all 0.3s ease;
            font-family: 'Prompt', sans-serif;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(20, 184, 166, 0.5);
        }

        /* Invoice Section */
        .section-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 24px;
            color: #1F2937;
        }

        .invoice-grid {
            display: grid;
            gap: 20px;
            margin-bottom: 40px;
        }

        .invoice-card {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 20px;
            align-items: center;
            transition: all 0.3s ease;
        }

        .invoice-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .invoice-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 16px;
        }

        .invoice-field {
            display: flex;
            flex-direction: column;
        }

        .invoice-label {
            font-size: 13px;
            color: #6B7280;
            margin-bottom: 4px;
        }

        .invoice-value {
            font-size: 16px;
            font-weight: 600;
            color: #1F2937;
        }

        .invoice-amount {
            font-size: 24px;
            font-weight: 700;
            color: #1E3A8A;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }

        .status-badge.pending {
            background: #FEF3C7;
            color: #92400E;
        }

        .status-badge.paid {
            background: #D1FAE5;
            color: #065F46;
        }

        .invoice-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn-secondary {
            background: white;
            color: #6366F1;
            border: 2px solid #6366F1;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'Prompt', sans-serif;
            font-size: 14px;
        }

        .btn-secondary:hover {
            background: #6366F1;
            color: white;
        }

        .btn-download {
            background: white;
            color: #14B8A6;
            border: 2px solid #14B8A6;
        }

        .btn-download:hover {
            background: #14B8A6;
            color: white;
        }

        /* Payment Form */
        .payment-form {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            max-width: 600px;
            margin: 0 auto 40px;
            display: none;
        }

        .payment-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #374151;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Prompt', sans-serif;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #6366F1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .btn-submit {
            flex: 1;
            background: linear-gradient(135deg, #14B8A6 0%, #10B981 100%);
            color: white;
            border: none;
            padding: 14px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Prompt', sans-serif;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.3);
        }

        .btn-cancel {
            flex: 1;
            background: #F3F4F6;
            color: #6B7280;
            border: none;
            padding: 14px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Prompt', sans-serif;
        }

        .btn-cancel:hover {
            background: #E5E7EB;
        }

        .success-message {
            background: linear-gradient(135deg, #D1FAE5 0%, #A7F3D0 100%);
            color: #065F46;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            margin-bottom: 24px;
            display: none;
            border-left: 4px solid #10B981;
        }

        .success-message.show {
            display: block;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #374151 0%, #1F2937 100%);
            color: white;
            padding: 40px 0 20px;
            margin-top: 60px;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #60A5FA 0%, #6366F1 50%, #8B5CF6 100%);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            font-size: 18px;
            margin-bottom: 16px;
            color: #60A5FA;
        }

        .footer-section p,
        .footer-section a {
            color: #D1D5DB;
            text-decoration: none;
            display: block;
            margin-bottom: 8px;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: #60A5FA;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #4B5563;
            color: #9CA3AF;
            font-size: 14px;
        }

        /* Floating Action Button (Mobile) */
        .fab {
            display: none;
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: linear-gradient(135deg, #14B8A6 0%, #FBBF24 100%);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: none;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(20, 184, 166, 0.4);
            z-index: 999;
            transition: all 0.3s ease;
        }

        .fab:hover {
            transform: scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            nav {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #1E3A8A;
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }

            nav.active {
                display: flex;
            }

            .menu-toggle {
                display: block;
            }

            .portal-title {
                font-size: 18px;
            }

            .logo {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            .welcome-banner {
                padding: 24px;
            }

            .welcome-banner h1 {
                font-size: 24px;
            }

            .welcome-banner p {
                font-size: 16px;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .invoice-card {
                grid-template-columns: 1fr;
            }

            .invoice-info {
                grid-template-columns: 1fr;
            }

            .invoice-actions {
                flex-direction: row;
            }

            .payment-form {
                padding: 24px;
            }

            .form-actions {
                flex-direction: column;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 24px;
            }

            .fab {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .cta-section {
                display: none;
            }
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <header>
   <div class="container">
    <div class="header-content">
     <div class="logo-section">
      <div class="logo">
       💳
      </div>
      <h1 class="portal-title" id="portalTitle">Billing Portal</h1>
     </div>
     <nav id="mainNav"><a href="#dashboard">หน้าแรก</a> <a href="#invoices">ใบแจ้งหนี้</a> <a href="#payment">ชำระเงิน</a> <a href="#receipts">ดาวน์โหลดใบเสร็จ</a>
     </nav><button class="menu-toggle" id="menuToggle">☰</button>
    </div>
   </div>
  </header>
  <main>
   <div class="container">
    <div class="welcome-banner">
     <h1 id="welcomeMessage">ยินดีต้อนรับสู่ระบบชำระเงิน</h1>
     <p>จัดการใบแจ้งหนี้และชำระค่าบริการได้อย่างสะดวก (ข้อมูลตัวอย่าง)</p>
    </div>
    <div class="dashboard-grid" id="dashboard">
     <div class="stat-card pending">
      <div class="stat-label">
       ยอดค้างชำระ
      </div>
      <div class="stat-value red">
       5,000 ฿
      </div>
      <div class="stat-detail">
       ข้อมูลตัวอย่าง
      </div>
     </div>
     <div class="stat-card paid">
      <div class="stat-label">
       ยอดชำระแล้ว
      </div>
      <div class="stat-value green">
       10,000 ฿
      </div>
      <div class="stat-detail">
       ข้อมูลตัวอย่าง
      </div>
     </div>
     <div class="stat-card recent">
      <div class="stat-label">
       ใบแจ้งหนี้ล่าสุด
      </div>
      <div class="stat-value blue">
       INV002
      </div>
      <div class="stat-detail">
       วันที่ 15 ม.ค. 2567
      </div>
     </div>
    </div>
    <div class="cta-section"><button class="btn-primary" id="newPaymentBtn">ชำระเงินใหม่ (ตัวอย่าง)</button>
    </div>
    <div class="payment-form" id="paymentForm">
     <div class="success-message" id="successMessage">
      ✓ ชำระเงินเรียบร้อย (ตัวอย่าง)
     </div>
     <h2 class="section-title">ฟอร์มชำระเงิน (ตัวอย่าง)</h2>
     <form id="paymentFormElement">
      <div class="form-group"><label class="form-label" for="invoiceSelect">เลือกใบแจ้งหนี้</label> <select class="form-select" id="invoiceSelect"> <option value="">-- เลือกใบแจ้งหนี้ --</option> <option value="INV001">INV001 - 2,500 บาท (รอดำเนินการ)</option> <option value="INV002">INV002 - 2,500 บาท (รอดำเนินการ)</option> </select>
      </div>
      <div class="form-group"><label class="form-label" for="amountInput">จำนวนเงิน (บาท)</label> <input type="text" class="form-input" id="amountInput" placeholder="0.00" value="2,500">
      </div>
      <div class="form-group"><label class="form-label" for="noteInput">หมายเหตุ (ตัวอย่าง)</label> <textarea class="form-textarea" id="noteInput" placeholder="ระบุหมายเหตุเพิ่มเติม (ถ้ามี)"></textarea>
      </div>
      <div class="form-actions"><button type="submit" class="btn-submit">ชำระเงินตัวอย่าง</button> <button type="button" class="btn-cancel" id="cancelPaymentBtn">ยกเลิก</button>
      </div>
     </form>
    </div>
    <section id="invoices">
     <h2 class="section-title">รายการใบแจ้งหนี้ (ตัวอย่าง)</h2>
     <div class="invoice-grid">
      <div class="invoice-card">
       <div class="invoice-info">
        <div class="invoice-field"><span class="invoice-label">หมายเลขใบแจ้งหนี้</span> <span class="invoice-value">INV001</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">วันที่ออก</span> <span class="invoice-value">1 ม.ค. 2567</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">ยอดเงิน</span> <span class="invoice-amount">2,500 ฿</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">สถานะ</span> <span class="status-badge pending">รอดำเนินการ</span>
        </div>
       </div>
       <div class="invoice-actions"><button class="btn-secondary">ดูรายละเอียด</button> <button class="btn-secondary btn-download">ดาวน์โหลดตัวอย่าง</button>
       </div>
      </div>
      <div class="invoice-card">
       <div class="invoice-info">
        <div class="invoice-field"><span class="invoice-label">หมายเลขใบแจ้งหนี้</span> <span class="invoice-value">INV002</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">วันที่ออก</span> <span class="invoice-value">15 ม.ค. 2567</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">ยอดเงิน</span> <span class="invoice-amount">2,500 ฿</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">สถานะ</span> <span class="status-badge pending">รอดำเนินการ</span>
        </div>
       </div>
       <div class="invoice-actions"><button class="btn-secondary">ดูรายละเอียด</button> <button class="btn-secondary btn-download">ดาวน์โหลดตัวอย่าง</button>
       </div>
      </div>
      <div class="invoice-card">
       <div class="invoice-info">
        <div class="invoice-field"><span class="invoice-label">หมายเลขใบแจ้งหนี้</span> <span class="invoice-value">INV003</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">วันที่ออก</span> <span class="invoice-value">1 ธ.ค. 2566</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">ยอดเงิน</span> <span class="invoice-amount">5,000 ฿</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">สถานะ</span> <span class="status-badge paid">ชำระแล้ว</span>
        </div>
       </div>
       <div class="invoice-actions"><button class="btn-secondary">ดูรายละเอียด</button> <button class="btn-secondary btn-download">ดาวน์โหลดตัวอย่าง</button>
       </div>
      </div>
      <div class="invoice-card">
       <div class="invoice-info">
        <div class="invoice-field"><span class="invoice-label">หมายเลขใบแจ้งหนี้</span> <span class="invoice-value">INV004</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">วันที่ออก</span> <span class="invoice-value">15 ธ.ค. 2566</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">ยอดเงิน</span> <span class="invoice-amount">5,000 ฿</span>
        </div>
        <div class="invoice-field"><span class="invoice-label">สถานะ</span> <span class="status-badge paid">ชำระแล้ว</span>
        </div>
       </div>
       <div class="invoice-actions"><button class="btn-secondary">ดูรายละเอียด</button> <button class="btn-secondary btn-download">ดาวน์โหลดตัวอย่าง</button>
       </div>
      </div>
     </div>
    </section>
   </div>
  </main><button class="fab" id="fabBtn">+</button>
  <footer>
   <div class="container">
    <div class="footer-content">
     <div class="footer-section">
      <h3>ติดต่อฝ่าย Billing</h3>
      <p>📧 อีเมล: <span id="supportEmail">billing-support@example.com</span></p>
      <p>📞 โทร: <span id="supportPhone">0xx-xxx-xxxx</span></p>
      <p>🕐 เวลาทำการ: จันทร์–ศุกร์ 08:30–17:30</p>
     </div>
     <div class="footer-section">
      <h3>ข้อมูลเพิ่มเติม</h3><a href="#privacy">นโยบายความเป็นส่วนตัว</a> <a href="#terms">เงื่อนไขการใช้งาน</a> <a href="#faq">คำถามที่พบบ่อย</a>
     </div>
     <div class="footer-section">
      <h3>เกี่ยวกับเรา</h3>
      <p>ระบบชำระเงินออนไลน์สำหรับลูกค้า</p>
      <p>ข้อมูลทั้งหมดเป็นตัวอย่างเท่านั้น</p>
     </div>
    </div>
    <div class="footer-bottom">
     <p>© 2567 Billing Portal - ข้อมูลตัวอย่าง | สงวนลิขสิทธิ์</p>
    </div>
   </div>
  </footer>
  <script>
        const defaultConfig = {
            portal_title: "Billing Portal",
            welcome_message: "ยินดีต้อนรับสู่ระบบชำระเงิน",
            support_email: "billing-support@example.com",
            support_phone: "0xx-xxx-xxxx",
            background_color: "#F8FAFC",
            header_color: "#1E3A8A",
            primary_action_color: "#14B8A6",
            text_color: "#1F2937",
            secondary_surface_color: "#FFFFFF"
        };

        async function onConfigChange(config) {
            const portalTitle = config.portal_title || defaultConfig.portal_title;
            const welcomeMessage = config.welcome_message || defaultConfig.welcome_message;
            const supportEmail = config.support_email || defaultConfig.support_email;
            const supportPhone = config.support_phone || defaultConfig.support_phone;
            const backgroundColor = config.background_color || defaultConfig.background_color;
            const headerColor = config.header_color || defaultConfig.header_color;
            const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
            const textColor = config.text_color || defaultConfig.text_color;
            const secondarySurfaceColor = config.secondary_surface_color || defaultConfig.secondary_surface_color;

            document.getElementById('portalTitle').textContent = portalTitle;
            document.getElementById('welcomeMessage').textContent = welcomeMessage;
            document.getElementById('supportEmail').textContent = supportEmail;
            document.getElementById('supportPhone').textContent = supportPhone;

            document.body.style.background = backgroundColor;
            document.body.style.color = textColor;

            const header = document.querySelector('header');
            if (header) {
                header.style.background = `linear-gradient(135deg, ${headerColor} 0%, #6366F1 100%)`;
            }

            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach(card => {
                card.style.background = secondarySurfaceColor;
            });

            const invoiceCards = document.querySelectorAll('.invoice-card');
            invoiceCards.forEach(card => {
                card.style.background = secondarySurfaceColor;
            });

            const paymentForm = document.querySelector('.payment-form');
            if (paymentForm) {
                paymentForm.style.background = secondarySurfaceColor;
            }

            const btnPrimary = document.querySelectorAll('.btn-primary');
            btnPrimary.forEach(btn => {
                btn.style.background = `linear-gradient(135deg, ${primaryActionColor} 0%, #FBBF24 100%)`;
            });

            const fab = document.querySelector('.fab');
            if (fab) {
                fab.style.background = `linear-gradient(135deg, ${primaryActionColor} 0%, #FBBF24 100%)`;
            }

            const btnSubmit = document.querySelectorAll('.btn-submit');
            btnSubmit.forEach(btn => {
                btn.style.background = `linear-gradient(135deg, ${primaryActionColor} 0%, #10B981 100%)`;
            });
        }

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities: (config) => ({
                    recolorables: [
                        {
                            get: () => config.background_color || defaultConfig.background_color,
                            set: (value) => {
                                config.background_color = value;
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        },
                        {
                            get: () => config.secondary_surface_color || defaultConfig.secondary_surface_color,
                            set: (value) => {
                                config.secondary_surface_color = value;
                                window.elementSdk.setConfig({ secondary_surface_color: value });
                            }
                        },
                        {
                            get: () => config.text_color || defaultConfig.text_color,
                            set: (value) => {
                                config.text_color = value;
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        },
                        {
                            get: () => config.primary_action_color || defaultConfig.primary_action_color,
                            set: (value) => {
                                config.primary_action_color = value;
                                window.elementSdk.setConfig({ primary_action_color: value });
                            }
                        },
                        {
                            get: () => config.header_color || defaultConfig.header_color,
                            set: (value) => {
                                config.header_color = value;
                                window.elementSdk.setConfig({ header_color: value });
                            }
                        }
                    ],
                    borderables: [],
                    fontEditable: undefined,
                    fontSizeable: undefined
                }),
                mapToEditPanelValues: (config) => new Map([
                    ["portal_title", config.portal_title || defaultConfig.portal_title],
                    ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                    ["support_email", config.support_email || defaultConfig.support_email],
                    ["support_phone", config.support_phone || defaultConfig.support_phone]
                ])
            });
        }

        const menuToggle = document.getElementById('menuToggle');
        const mainNav = document.getElementById('mainNav');
        const newPaymentBtn = document.getElementById('newPaymentBtn');
        const fabBtn = document.getElementById('fabBtn');
        const paymentForm = document.getElementById('paymentForm');
        const paymentFormElement = document.getElementById('paymentFormElement');
        const cancelPaymentBtn = document.getElementById('cancelPaymentBtn');
        const successMessage = document.getElementById('successMessage');

        menuToggle.addEventListener('click', () => {
            mainNav.classList.toggle('active');
        });

        function showPaymentForm() {
            paymentForm.classList.add('active');
            paymentForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
            successMessage.classList.remove('show');
        }

        function hidePaymentForm() {
            paymentForm.classList.remove('active');
            paymentFormElement.reset();
            successMessage.classList.remove('show');
        }

        newPaymentBtn.addEventListener('click', showPaymentForm);
        fabBtn.addEventListener('click', showPaymentForm);
        cancelPaymentBtn.addEventListener('click', hidePaymentForm);

        paymentFormElement.addEventListener('submit', (e) => {
            e.preventDefault();
            
            successMessage.classList.add('show');
            
            setTimeout(() => {
                successMessage.classList.remove('show');
                hidePaymentForm();
            }, 3000);
        });

        const navLinks = document.querySelectorAll('nav a');
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                if (window.innerWidth <= 768) {
                    mainNav.classList.remove('active');
                }
            });
        });

        const detailButtons = document.querySelectorAll('.btn-secondary:not(.btn-download)');
        detailButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const card = btn.closest('.invoice-card');
                const invoiceNumber = card.querySelector('.invoice-value').textContent;
                const tempMessage = document.createElement('div');
                tempMessage.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.2); z-index: 9999; text-align: center;';
                tempMessage.innerHTML = `<p style="font-size: 18px; font-weight: 600; margin-bottom: 16px;">รายละเอียดใบแจ้งหนี้ ${invoiceNumber}</p><p style="color: #6B7280;">ข้อมูลตัวอย่าง</p>`;
                document.body.appendChild(tempMessage);
                setTimeout(() => tempMessage.remove(), 2000);
            });
        });

        const downloadButtons = document.querySelectorAll('.btn-download');
        downloadButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const card = btn.closest('.invoice-card');
                const invoiceNumber = card.querySelector('.invoice-value').textContent;
                const tempMessage = document.createElement('div');
                tempMessage.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.2); z-index: 9999; text-align: center;';
                tempMessage.innerHTML = `<p style="font-size: 18px; font-weight: 600; margin-bottom: 16px;">กำลังดาวน์โหลด ${invoiceNumber}</p><p style="color: #6B7280;">ข้อมูลตัวอย่าง</p>`;
                document.body.appendChild(tempMessage);
                setTimeout(() => tempMessage.remove(), 2000);
            });
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'996cbc9707024b65',t:'MTc2MTg0NjQzNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>